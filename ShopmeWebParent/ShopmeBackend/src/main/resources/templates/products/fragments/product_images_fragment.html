<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div th:fragment="images" th:remove="tag">
        <div class="row mb-3">
            <div class="col border border-secondary rounded p-3">
                <input th:field="*{mainImage}" type="hidden">

                <div>
                    <label for="imageFile" class="mb-1">Main Image:</label>
                </div>

                <div class="mt-2">
                    <img alt="Main image preview"
                         class="img-thumbnail"
                         id="thumbnail"
                         th:src="@{${product.mainImagePath}}">
                </div>

                <div>
                    <!-- avoid the field name collision between the Product.mainImage string and this uploaded file name,
                    so Spring is receiving the uploaded file and trying to bind it to product.mainImage, because
                    both the request part and the model attribute are sharing the same field name â€” mainImage -->
                    <input type="file" id="imageFile" name="prodMainImage"
                           accept="image/png, image/jpeg"
                           class="img-thumbnail"
                           required>
                </div>
            </div>
        </div>
    </div>
    <script th:src="@{/js/common_form.js}" type="text/javascript"></script>
    <script type="text/javascript">

    </script>
</body>
</html>