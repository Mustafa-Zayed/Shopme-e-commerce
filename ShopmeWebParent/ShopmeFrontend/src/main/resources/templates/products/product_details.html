<!DOCTYPE html>
<html lang="en">
<head th:replace="~{fragments :: page_head(${pageTitle})}"></head>
<body>

<div class="container-fluid">
    <div th:replace="~{fragments :: top_navbar}"></div>

    <div th:replace="~{fragments :: breadcrumb(allCategoryParents = ${allCategoryParents}, prodBreadcrumb = true)}"></div>

    <div class="row m-3">
        <div class="col-sm">
            <img th:src="@{${product.mainImagePath}}" class="img-fluid" alt="Product image">
        </div>
        <div class="col-sm">
            <h2>[[${product.name}]]</h2>

            <div>
                <span th:text="|Brand: ${product.brand.name}|"></span>
            </div>
            <div th:if="${product.discountPercent == 0}">
                <span th:text="'List Price: $' + ${product.price}"></span>
            </div>
            <div th:if="${product.discountPercent > 0}">
                List Price: <span th:text="'$' + ${product.price}"
                      class="text-decoration-line-through"></span>
                <br>
                Price: <span th:text="'$' + ${product.discountPrice}"
                      class="fw-bold text-danger"></span>
                <span th:text="'(' + ${product.discountPercent} + '% off)'"></span>
            </div>

            <div>&nbsp;</div>

            <div th:utext="${product.shortDescription}"></div>
        </div>
        <div class="col-sm-2">
            <span th:class="'fw-bold ' + ${product.inStock ? 'text-success' : 'text-danger'}"
                  th:text="${product.inStock ? 'In Stock' : 'Out of Stock'}"></span>
            <div class="mt-2">
                <input type="number" size="5" value="1" min="1" max="10"/>
            </div>
            <div class="mt-2">
                <button class="btn btn-primary">Add to Cart</button>
            </div>
        </div>
    </div>
    <hr>

    <div class="row m-3">
        <div class="col-12">
            <h3>Product Description:</h3>
            <div th:utext="${product.fullDescription}"></div>
        </div>
    </div>
    <hr>

    <div class="row m-3">
        <div class="col-12">
            <h3>Product Details:</h3>
            <div th:each="detail : ${product.productDetails}">
                <span th:text="${detail.name}" class="fw-bold"></span>:
                <span th:text="${detail.value}"></span>
            </div>
        </div>
    </div>
    <div th:replace="~{fragments :: footer_navbar}"></div>
</div>
</body>
</html>